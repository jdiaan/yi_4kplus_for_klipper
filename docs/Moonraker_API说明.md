# å¦‚ä½•ä½¿ç”¨Moonraker API
[å®˜æ–¹æ‰‹å†Œ](https://moonraker.readthedocs.io/en/latest/web_api/)
* ä½¿ç”¨HTTPæ¥å£
* ä½¿ç”¨JSON-RPCï¼ˆè‡ªå·±ç ”ç©¶ï¼Œåº”è¯¥ä¸éš¾å§ï¼Œæˆ‘ä¸ä¼šï¼‰
  
## ä½¿ç”¨HTTPæ¥å£
æƒ…æ™¯ä»‹ç»ï¼Œæˆ‘æƒ³é€šè¿‡æˆ‘çš„ç”µè„‘è·å–ä¸Šä½æœºçš„ä¿¡æ¯ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ä¸Šä½æœºé‡Œé¢è‡ªå·±æŸ¥è¯¢è‡ªå·±çš„æ¥å£ï¼Œä¸€ä¸ªé“ç†ã€‚
1. å¦‚æœæ˜¯å…¶å®ƒç”µè„‘ä½ éœ€è¦çŸ¥é“ä¸Šä½æœºIPï¼Œæˆ‘å‡è®¾ä¸€ä¸ªIPåœ°å€`192.168.1.10`ã€‚ä¸Šä½æœºè‡ªå·±æŸ¥è¯¢åº”è¯¥ç”¨`locahost`æˆ–`127.0.0.1`ä¹‹ç±»çš„åº”è¯¥å°±è¡Œäº†å§ï¼Œæˆ‘æ²¡è¯•è¿‡ï¼Œä¸çŸ¥é“ä¹Ÿä¸æ™“å¾—
2. æ¯”æ–¹è¯´æˆ‘æƒ³æŸ¥æ‰¾å½“å‰æ‰“å°çš„æ–‡ä»¶ã€‚
   1. ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥`192.168.1.10/printer/objects/query?print_stats=filename`å°±å¯ä»¥å•¦
      * ğŸŒŸè®°å¾—æŠŠIPè®¾ä¸ºä½ è‡ªå·±çš„ï¼ï¼ï¼ï¼
   2. ä½¿ç”¨pythonçš„ `requests`åº“
        ```python
        import requests

        url = "http://192.168.1.10/printer/objects/query"  # ä¿®æ”¹æˆä½ è‡ªå·±çš„ip
        myParams = {"print_stats": "filename"}  # é—®å·åçš„æŸ¥è¯¢å†…å®¹ç”¨å­—å…¸ä»£æ›¿

        res = requests.get(url=url, params=myParams)

        re_json = res.json()  # å°±è·å–åˆ°ä½ çš„jsonä»£ç äº†

        ```
3. è¿”å›äº†ä¸€ä¸²jsonä»£ç ï¼Œé‡Œé¢å°±åŒ…å«äº†ä½ çš„æ–‡ä»¶ä¿¡æ¯ã€‚ç®€å•å§
    ```json
    {
        "result": {
            "eventtime": 29645.060955301,
            "status": {
                "print_stats": {
                    "filename": "mflink_90_support_PETG_35m17s.gcode"
                }
            }
        }
    }
    ```


## å¦‚ä½•çŸ¥é“èƒ½æŸ¥è¯¢å“ªäº›ä¸œè¥¿å‘¢
çœ‹[å®˜æ–¹æ‰‹å†Œ](https://moonraker.readthedocs.io/en/latest/web_api/#printer-status)éƒ½æœ‰è‡ªå·±æ‰¾

## æœ€åï¼š
å¥½äº†ä½ åˆå¯ä»¥é€ è‡ªå·±çš„åŸå­å¼¹äº†